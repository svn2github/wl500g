diff -urBbwp '-x.*' '-x*.o' linux-N12/drivers/net/emf/Makefile linux-2.6/drivers/net/emf/Makefile
--- linux-N12/drivers/net/emf/Makefile	2009-08-27 07:55:33.000000000 +0400
+++ linux-2.6/drivers/net/emf/Makefile	2009-10-10 20:06:12.000000000 +0400
@@ -12,15 +12,14 @@
 # $Id: Makefile,v 1.3 2008/08/13 20:20:16 Exp $
 #
 
-EMFSRCDIR := ../../../../../router/emf/emf
-EMFCSRCDIR := ../../../../../emf/emf
-EMFDIR := ../../../../../router/emf
+EMFSRCDIR := ../../../../../emf/emf
+EMFDIR := ../../../../../emf
 
-EMF_OBJS := $(EMFCSRCDIR)/emfc.o $(EMFSRCDIR)/emf_linux.o
+EMF_OBJS := $(EMFSRCDIR)/emfc.o $(EMFSRCDIR)/emf_linux.o
 
-# Search for sources under src/router/emf/emf
+# Search for sources under src/emf/emf
 ifneq ($(wildcard $(src)/$(EMFSRCDIR)),)
-	EXTRA_CFLAGS += -I../../router/emf/emf -I../../router/emf/igs
+	EXTRA_CFLAGS += -I$(EMFDIR)/emf -I$(EMFDIR)/igs
 	EXTRA_CFLAGS += -I../../include/emf/emf -I../../include/emf/igs
 	emf-objs := $(EMF_OBJS)
 else
@@ -40,4 +39,4 @@ clean:
 	$(MAKE) -C $(KERNELDIR) M=`pwd` clean
 endif
 
-clean-files += $(EMFCSRCDIR)/*.o $(EMFSRCDIR)/*.o $(EMFSRCDIR)/.*.o.cmd
+clean-files += $(EMFSRCDIR)/*.o $(EMFSRCDIR)/.*.o.cmd
diff -urBbwp '-x.*' '-x*.o' linux-N12/drivers/net/igs/Makefile linux-2.6/drivers/net/igs/Makefile
--- linux-N12/drivers/net/igs/Makefile	2009-08-27 07:55:38.000000000 +0400
+++ linux-2.6/drivers/net/igs/Makefile	2009-10-10 20:04:54.000000000 +0400
@@ -12,16 +12,15 @@
 # $Id: Makefile,v 1.3 2008/08/13 20:20:16 Exp $
 #
 
-IGSSRCDIR := ../../../../../router/emf/igs
-IGSCSRCDIR := ../../../../../emf/igs
-EMFDIR := ../../../../../router/emf
+IGSSRCDIR := ../../../../../emf/igs
+EMFDIR := ../../../../../emf
 
-IGS_OBJS := $(IGSCSRCDIR)/igsc.o $(IGSCSRCDIR)/igsc_sdb.o $(IGSSRCDIR)/igs_linux.o \
-	    $(IGSCSRCDIR)/osl_linux.o
+IGS_OBJS := $(IGSSRCDIR)/igsc.o $(IGSSRCDIR)/igsc_sdb.o $(IGSSRCDIR)/igs_linux.o \
+	    $(IGSSRCDIR)/osl_linux.o
 
-# Search for sources under src/router/emf/igs
+# Search for sources under src/emf/igs
 ifneq ($(wildcard $(src)/$(IGSSRCDIR)),)
-	EXTRA_CFLAGS += -I../../router/emf/igs -I../../router/emf/emf
+	EXTRA_CFLAGS += -I$(IGSSRCDIR) -I$(EMFDIR)/emf
 	EXTRA_CFLAGS += -I../../include/emf/igs -I../../include/emf/emf
 	igs-objs := $(IGS_OBJS)
 else
@@ -41,4 +40,4 @@ clean:
 	$(MAKE) -C $(KERNELDIR) M=`pwd` clean
 endif
 
-clean-files += $(IGSCSRCDIR)/*.o $(IGSSRCDIR)/*.o $(IGSSRCDIR)/.*.o.cmd
+clean-files += $(IGSSRCDIR)/*.o $(IGSSRCDIR)/.*.o.cmd
diff -urBbwp '-x.*' '-x*.o' linux-N12/Makefile linux-2.6/Makefile
--- linux-N12/Makefile	2009-08-27 07:53:18.000000000 +0400
+++ linux-2.6/Makefile	2009-10-07 20:30:49.000000000 +0400
@@ -315,7 +315,9 @@ AFLAGS          := -D__ASSEMBLY__
 
 
 # Broadcom source tree
-export SRCBASE := ../..
+TOPDIR  := $(shell /bin/pwd)
+SRCBASE ?= $(TOPDIR)/../..
+export SRCBASE
 CFLAGS += -I$(SRCBASE)/include
 AFLAGS += -I$(SRCBASE)/include
 ASFLAGS += -I$(SRCBASE)/include
