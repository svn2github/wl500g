 
 6. dnsomatic.com support
 
diff -BurpN -x'*.o' router/ez-ipupdate/example-dnsomatic.conf gateway/ez-ipupdate/example-dnsomatic.conf
--- router/ez-ipupdate/example-dnsomatic.conf	1970-01-01 00:00:00.000000000 +0000
+++ gateway/ez-ipupdate/example-dnsomatic.conf	2009-02-26 18:45:04.000000000 +0000
@@ -0,0 +1,26 @@
+#!/usr/local/bin/ez-ipupdate -c
+#
+# example config file for ez-ipupdate
+#
+# this file is actually executable!
+#
+
+service-type=dnsomatic
+user=myuserid:mypassword
+host=all.dnsomatic.com
+interface=eth1
+max-interval=2073600
+
+# please create this file and ensure that the user that ez-ipupdate is running
+# as has write permissions to it then uncomment this line, if you don't your
+# dyndns account will probably get banned. if you run ez-ipupdate as root (bad
+# idea, use "run-as-user") then you can just uncomment this line.
+#cache-file=/etc/ez-ipupdate.cache.eth1
+
+# for the mean time we'll just use a cache file in the temp directory
+cache-file=/tmp/ez-ipupdate.cache
+
+# uncomment this once you have everything working how you want and you are
+# ready to have ez-ipupdate running in the background all the time. to stop it
+# you can use "killall -QUIT ez-ipupdate" under linux.
+#daemon
diff -BurpN -x'*.o' router/ez-ipupdate/ez-ipupdate.c gateway/ez-ipupdate/ez-ipupdate.c
--- router/ez-ipupdate/ez-ipupdate.c	2004-11-11 07:26:51.000000000 +0000
+++ gateway/ez-ipupdate/ez-ipupdate.c	2009-06-27 05:00:40.000000000 +0000
@@ -110,6 +113,10 @@
 #define HEIPV6TB_DEFAULT_PORT "80"
 #define HEIPV6TB_REQUEST "/index.cgi"
 
+#define DNSOMATIC_DEFAULT_SERVER "updates.dnsomatic.com"
+#define DNSOMATIC_DEFAULT_PORT "80"
+#define DNSOMATIC_REQUEST "/nic/update"
+
 #define DEFAULT_TIMEOUT 120
 #define DEFAULT_UPDATE_PERIOD 120
 #define DEFAULT_RESOLV_PERIOD 30
@@ -548,6 +555,16 @@ struct service_t services[] = {
     HEIPV6TB_DEFAULT_PORT,
     HEIPV6TB_REQUEST
   },
+  { "dnsomatic",
+    { "dnsomatic", 0, 0, },
+    DYNDNS_init,
+    DYNDNS_update_entry,
+    DYNDNS_check_info,
+    DYNDNS_fields_used,
+    DNSOMATIC_DEFAULT_SERVER,
+    DNSOMATIC_DEFAULT_PORT,
+    DNSOMATIC_REQUEST
+  },
 };
 
 static struct service_t *service = NULL;
