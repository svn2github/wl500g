diff -uB linux.old/lib/Makefile linux/lib/Makefile
--- linux.old/lib/Makefile	2004-04-16 07:14:21.000000000 +0400
+++ linux/lib/Makefile	2009-07-20 17:55:06.000000000 +0400
@@ -9,7 +9,7 @@
 L_TARGET := lib.a
 
 export-objs := cmdline.o dec_and_lock.o rwsem-spinlock.o rwsem.o \
-	       rbtree.o crc32.o firmware_class.o string.o
+	       rbtree.o crc32.o firmware_class.o
 
 obj-y := errno.o ctype.o string.o vsprintf.o brlock.o cmdline.o \
 	 bust_spinlocks.o rbtree.o dump_stack.o
diff -uB linux.old/lib/string.c linux/lib/string.c
--- linux.old/lib/string.c	2009-07-20 03:27:44.000000000 +0400
+++ linux/lib/string.c	2009-07-20 17:55:14.000000000 +0400
@@ -460,7 +460,6 @@
 			break;
 	return res;
 }
-EXPORT_SYMBOL(memcmp);
 #endif
 
 #ifndef __HAVE_ARCH_MEMSCAN
