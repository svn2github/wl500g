--- a/loginutils/su.c	2010-10-09 23:57:14.000000000 +0400
+++ b/loginutils/su.c	2010-11-01 13:42:15.000000000 +0300
@@ -42,7 +42,9 @@ int su_main(int argc UNUSED_PARAM, char 
 	struct passwd *pw;
 	uid_t cur_uid = getuid();
 	const char *tty;
+#if ENABLE_FEATURE_UTMP
 	char user_buf[64];
+#endif
 	const char *old_user;
 
 	flags = getopt32(argv, "mplc:s:", &opt_command, &opt_shell);
