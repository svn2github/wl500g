--- a/editors/vi.c
+++ b/editors/vi.c
@@ -3197,7 +3197,7 @@ static void do_cmd(int c)
 		buf[1] = '\0';
 		q = get_input_line(buf);	// get input line- use "status line"
 		if (q[0] && !q[1]) {
-			if (last_search_pattern[0])
+			if (last_search_pattern)
 				last_search_pattern[0] = c;
 			goto dc3; // if no pat re-use old pat
 		}
@@ -3213,6 +3213,10 @@ static void do_cmd(char c)
 		if (cmdcnt-- > 1) {
 			do_cmd(c);
 		}				// repeat cnt
+		if (last_search_pattern == 0) {
+			msg = "No previous regular expression";
+			goto dc2;
+		}
 		dir = BACK;		// assume BACKWARD search
 		p = dot - 1;
 		if (last_search_pattern[0] == '?') {
