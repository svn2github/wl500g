diff -BuN router/www/asus/Makefile gateway/www/asus/Makefile
--- router/www/asus/Makefile	2004-11-18 18:33:33.000000000 +0000
+++ gateway/www/asus/Makefile	2009-11-13 22:47:24.000000000 +0000
@@ -14,6 +14,9 @@
 
 PAGES := *
 PAGES_DIR := graph/*
+MODEL := WL500g
+LANGUAGE := EN
+IPV6 := y
 
 all: pages.mk
 
@@ -21,19 +24,18 @@
 	echo "PAGES := $(PAGES)" > $@
 
 install:
-	./mkweb WL500gx "EN"	
-	install -d $(INSTALLDIR)/www
-	install -m 644 web_WL500gx/*.asp $(INSTALLDIR)/www
-	install -m 644 web_WL500gx/*.js $(INSTALLDIR)/www
-	install -m 644 web_WL500gx/*.css $(INSTALLDIR)/www
+	./mkweb $(MODEL) "$(LANGUAGE)" "$(IPV6)"
+	rm -rf $(INSTALLDIR)/www && install -d $(INSTALLDIR)/www
+	install -m 644 web_$(MODEL)/*.asp $(INSTALLDIR)/www
+	install -m 644 web_$(MODEL)/*.js $(INSTALLDIR)/www
+	install -m 644 web_$(MODEL)/*.css $(INSTALLDIR)/www
 	install -d $(INSTALLDIR)/www/graph
-	install -m 644 web_WL500gx/$(PAGES_DIR) $(INSTALLDIR)/www/graph
+	install -m 644 web_$(MODEL)/$(PAGES_DIR) $(INSTALLDIR)/www/graph
 	rm -rf web
-	rm -rf web_WL500gx
+	rm -rf web_$(MODEL)
 
 install-%:
-	echo $(LANGUAGE)
-	./mkweb $* "$(LANGUAGE)"
+	./mkweb $* "$(LANGUAGE)" "$(IPV6)"
 	rm -rf www_$*	
 	install -d www_$*
 	install -m 644 web_$*/*.asp www_$*
@@ -45,19 +47,25 @@
 	install -d www_$*/graph
 	install -m 644 web_$*/$(PAGES_DIR) www_$*/graph
 
-	ln -sf /tmp/settings www_$*/WL500g.Deluxe.CFG
-	ln -sf /tmp/settings www_$*/WL500gl.CFG
-	ln -sf /tmp/settings www_$*/WL500bl.CFG
-	ln -sf /tmp/settings www_$*/WL500g.CFG
-	ln -sf /tmp/settings www_$*/WL500b.CFG
-	ln -sf /tmp/settings www_$*/WL500bv2.CFG
-	ln -sf /tmp/settings www_$*/WL300g.CFG
-	ln -sf /tmp/settings www_$*/WL331g.CFG
-	ln -sf /tmp/settings www_$*/WL331gl.CFG
 	ln -sf /var/tmp/display.jpg www_$*/display.jpg
 
 	rm -rf web
 	rm -rf web_$*
+
+pages-%:
+	./mkweb $* "$(LANGUAGE)" "$(IPV6)"
+	rm -rf $(INSTALLDIR)/www && install -d $(INSTALLDIR)/www
+	install -m 644 web_$*/*.asp $(INSTALLDIR)/www
+	install -m 644 web_$*/*.js $(INSTALLDIR)/www
+	install -m 644 web_$*/*.css $(INSTALLDIR)/www
+	install -m 644 web_$*/*.cab $(INSTALLDIR)/www
+	install -d $(INSTALLDIR)/www/graph
+	install -m 644 web_$*/$(PAGES_DIR) $(INSTALLDIR)/www/graph
+
+	ln -sf /var/tmp/display.jpg $(INSTALLDIR)/www/display.jpg
+
+	rm -rf web
+	rm -rf web_$*
 
 clean:
 	rm -f pages.mk
diff -BuN router/www/asus/mkweb gateway/www/asus/mkweb
--- router/www/asus/mkweb	2004-11-19 04:11:13.000000000 +0000
+++ gateway/www/asus/mkweb	2009-11-13 22:46:32.000000000 +0000
@@ -1,5 +1,11 @@
-#!/bin/sh
+#! /bin/bash
 
+### CHUPA REVISION 1 29-10-2004 01:56
+### CHUPA REVISION 2 22-11-2004 23:35
+#+remove some unused files from www/graph and www/
+#+changed /web_asus_en/index.asp to support SystemLog in AP mode
+#+changed behaviour of menu, some things were selected wrongly in the previous revision
+#
 # In the following directories, files of WL300g/WL500g/WL600/WL600g will be different
 # /init/
 # /web
@@ -9,7 +15,7 @@
 
 if [ -n "$1" ]; then
 
-	MODEL=$1
+	MODEL=$1 IPV6=$3
 
 	if [ -n "$2" ]; then
 		if [ "$2" = "EN" ]; then
@@ -73,6 +79,12 @@
 	if [ "$MODELID" = "WL500gx" ]; then
 		MODEL_STR="WL500g.Deluxe"
 	fi
+	if [ "$MODELID" = "WL500gp" ]; then
+		MODEL_STR="WL500g.Premium"
+	fi
+	if [ "$MODELID" = "WL500gpv2" ]; then
+		MODEL_STR="WL500g.PremiumV2"
+	fi
 	echo $MODEL_STR
 
 	### 1. copy all files to tempdir ###
@@ -101,14 +113,62 @@
 	done
 
 
+	### 2bis. Strip *.asp, *.css and *.js ###
+	echo "Stripping web interface..."
+
+	# Strip c++ style (//...) comments from js and asp, however, preserve urls like http://
+	LIST=$(ls ../web_$MODEL/*.{js,asp})
+	PATTERN="s|^[ \t]*//.*$||;s|[ \t]*[^:]//.*$||"
+	echo "sed $PATTERN"
+	for i in $LIST; do
+		sed -ri "$PATTERN" $i
+	done
+
+	# Strip single and multilne /*...*/ comments
+	LIST=$(ls ../web_$MODEL/*.{js,asp,css})
+	echo "Stripping JS comments..."
+	for i in $LIST; do
+		../remccoms2.sh $i
+	done
+
+	# Remove \r, trim each line from both sides, delete empty lines from asp,css,js
+	LIST=$(ls ../web_$MODEL/*.{asp,css,js})
+#	PATTERN="s/\x0D//g;s/[ \t]+/ /g;s/^[ \t]+//;s/[ \t]+$//;/^$/d"
+	PATTERN="s/^[ \t]+//;s/[ \t\x0d]+$//;/^$/d"
+	echo "sed $PATTERN"
+	for i in $LIST; do
+		sed -ri "$PATTERN" $i
+	done
+
+	LIST=$(ls ../web_$MODEL/*.asp)
+	echo "Performing final processing of HTML..."
+	for i in $LIST; do
+# Remove single line HTML comments
+		sed -ri 's|<!--.*-->||' $i
+# Remove HTML pseudo-comments in <script> and <style> inclusions as they are anyway not everywhere
+		sed -ri '/^<!--$/d;/^-->$/d' $i
+# Remove junk from html headers
+		sed -ri '/<meta http-equiv="Content-Type"/d' $i
+		sed -ri '/<meta http-equiv="Content-Language" content="zh-tw">/d' $i
+		sed -ri '/<meta name="GENERATOR" content="Microsoft FrontPage 4.0">/d' $i
+		sed -ri '/<meta name="ProgId" content="FrontPage.Editor.Document">/d' $i
+		sed -ri '/<meta name="VI60_defaultClientScript" content="JavaScript">/d' $i
+# Add uniform Content-Type line to all .asp-s
+		sed -ri 's|</title>|</title>\n<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">|' $i
+# Remove \n from the asp files in the following situation: ...>\n...
+		sed -ri ':b;/>$/N;s/>\n/>/;tb' $i
+# Remove \n from the asp files in the following situation: ...\n<...
+		sed -ri ':c;$!N;s/\n</</;tc' $i
+	done
+
     ### 3. Replace ProductID in *.xml ###
 
 	PATTERN="s/WL600/$MODEL/g"
-	cat igdevicedesc.xml | sed "$PATTERN" > ../web_$MODEL/igdevicedesc.xml
+# CHUPA	cat igdevicedesc.xml | sed "$PATTERN" > ../web_$MODEL/igdevicedesc.xml
 
 	### 4. Copy different files for different Model ###
 	
-	if [ "$MODEL" = "WL300g" ] || [ "$MODEL" = "WL300g2" ]; then
+	if [ "$MODEL" = "WL300g" ] || [ "$MODEL" = "WL300g2" ] || [ "$MODEL" = "WL330gE" ] || [ "$MODEL" = "WL320gE" ] || [ "$MODEL" = "WL320gP" ]; then
 		### 4.1 default value ###
 		
 		if [ "$MODEL" = "WL300g" ]; then
@@ -145,7 +205,9 @@
 		cp -f ../web_$MODEL/Advanced_Exposed_Content_SP.asp ../web_$MODEL/Advanced_Exposed_Content.asp
 		
 		### 4.3 web graph ###		
-		cp -f ../web_$MODEL/graph/iBox_title_all_300g.jpg ../web_$MODEL/graph/iBox_title_all.jpg
+		if [ "$MODEL" = "WL300g" ]; then
+			cp -f ../web_$MODEL/graph/iBox_title_all_300g.jpg ../web_$MODEL/graph/iBox_title_all.jpg
+		fi
 		cp -f ../web_$MODEL/graph/internet_all_300.gif ../web_$MODEL/graph/internet_all.gif
 		cp -f ../web_$MODEL/graph/internet_none_300.gif ../web_$MODEL/graph/internet_none.gif
 		cp -f ../web_$MODEL/graph/internet_some_300.gif ../web_$MODEL/graph/internet_some.gif			
@@ -259,7 +321,7 @@
 			cp -f ../target/init/httpserver_501b ../target/init/httpserver
 			cp -f ../target/web/script/wlan11b.sh_501b ../target/web/script/wlan11b.sh
 		fi	
-	elif [ "$MODEL" = "WL500g" ] || [ "$MODEL" = "WL500gx" ] || [ "$MODEL" = "WL500b" ] || [ "$MODEL" = "WL500bv2" ] || [ "$MODEL" = "WL500gl" ] || [ "$MODEL" = "WL500bl" ] || [ "$MODEL" = "WL331gl" ]; then
+	elif [ "$MODEL" = "WL500g" ] || [ "$MODEL" = "WL500gx" ] || [ "$MODEL" = "WL500gp" ] || [ "$MODEL" = "WL500gpv2" ] || [ "$MODEL" = "WL700g" ] || [ "$MODEL" = "WL500W" ] || [ "$MODEL" = "WL550gE" ] || [ "$MODEL" = "WL500b" ] || [ "$MODEL" = "WL500bv2" ] || [ "$MODEL" = "WL500gl" ] || [ "$MODEL" = "WL500bl" ] || [ "$MODEL" = "WL331gl" ] || [ "$MODEL" = "WL520gu" ]; then
 		### 4.1 default value ###
 		cat ../web_$MODEL/flash.default \
 		| sed 's/ApplyDevices=\"Both\"/ApplyDevices=\"802.11g only\"/g' \
@@ -267,7 +329,12 @@
 		cp -f ../web_$MODEL/flash.default_500g ../target/ramfs/etc/linuxigd/flash.default
 				
 		### 4.2 web page ###							
-		cp -f ../web_$MODEL/Advanced_Wireless11g_Content.asp ../web_$MODEL/Advanced_Wireless_Content.asp
+		if [ "$MODEL" = "WL500W" ]; then
+			cp -f ../web_$MODEL/Advanced_Wireless11n_Content.asp ../web_$MODEL/Advanced_Wireless_Content.asp
+			cp -f ../web_$MODEL/Advanced_WAdvanced_Content_11n.asp ../web_$MODEL/Advanced_WAdvanced_Content.asp
+		else
+			cp -f ../web_$MODEL/Advanced_Wireless11g_Content.asp ../web_$MODEL/Advanced_Wireless_Content.asp
+		fi
     		cp -f ../web_$MODEL/Advanced_ACL11g_Content.asp ../web_$MODEL/Advanced_ACL_Content.asp
 		cp -f ../web_$MODEL/Advanced_DMZIP11g_Content.asp ../web_$MODEL/Advanced_DMZIP_Content.asp
 		cp -f ../web_$MODEL/Main_WStatus11g_Content.asp ../web_$MODEL/Main_WStatus_Content.asp	
@@ -277,6 +344,8 @@
 		### 4.3 web graph ###
 		if [ "$MODEL" = "WL500gx" ]; then
 			cp -f ../web_$MODEL/graph/iBox_title_all_500gx.jpg ./../web_$MODEL/graph/iBox_title_all.jpg
+		elif [ "$MODEL" = "WL550gE" ]; then
+			cp -f ../web_$MODEL/graph/iBox_title_all_550g.jpg ./../web_$MODEL/graph/iBox_title_all.jpg
 		elif [ "$MODEL" = "WL500b" ]; then
 			cp -f ../web_$MODEL/graph/iBox_title_all_500b.jpg ./../web_$MODEL/graph/iBox_title_all.jpg
 
@@ -306,7 +375,7 @@
 			cp -f ../web_$MODEL/Main_WStatus11b_Content_501b.asp ../web_$MODEL/Main_WStatus_Content.asp
 			cp -f ../web_$MODEL/Advanced_BasicFirewall_Content_lite.asp ../web_$MODEL/Advanced_BasicFirewall_Content.asp
 			cp -f ../web_$MODEL/Advanced_Firewall_Content_lite.asp ../web_$MODEL/Advanced_Firewall_Content.asp	
-		else
+		elif [ "$MODEL" = "WL500g" ]; then
 			cp -f ../web_$MODEL/graph/iBox_title_all_500g.jpg ./../web_$MODEL/graph/iBox_title_all.jpg
 			cp -f ../web_$MODEL/Main_Index_AccessPoint11g_500g.asp ../web_$MODEL/Main_Index_AccessPoint.asp
 			cp -f ../web_$MODEL/Main_Index_HomeGateway11g_500g.asp ../web_$MODEL/Main_Index_HomeGateway.asp
@@ -427,11 +496,62 @@
 		cp -f ../target/lib/modules/2.4.5/parport/lp.o_600g ../target/lib/modules/2.4.5/parport/lp.o
 		cp -f ../target/usr/sbin/upnp_600g ../target/usr/sbin/upnp
 		cp -f ../target/sbin/lpd_600g ../target/sbin/lpd
-		cp -f ../target/sbin/infosvr_600g ../target/sbin/infosvr
+	    	cp -f ../target/sbin/infosvr_600g ../target/sbin/infosvr
+
+#################################################################### WLHDD
+        elif [ "$MODEL" = "WLHDD" ]; then
+                ### 4.1 default value ###
+		
+### CHUPA: Obsolete, left out..
+
+                ### 4.2 web page ###
+                cp -f ../web_$MODEL/Advanced_Wireless11g_Content.asp ../web_$MODEL/Advanced_Wireless_Content.asp
+                cp -f ../web_$MODEL/Advanced_WAdvanced_Content.asp ../web_$MODEL/Advanced_WAdvanced_Content.asp
+# for afterburner (wl500gx/wlhdd function)
+                cp -f ../web_$MODEL/Advanced_ACL11g_Content.asp ../web_$MODEL/Advanced_ACL_Content.asp
+                cp -f ../web_$MODEL/Advanced_DMZIP11g_Content.asp ../web_$MODEL/Advanced_DMZIP_Content.asp
+
+                cp -f ../web_$MODEL/Advanced_OperationMode_Content_300g.asp ../web_$MODEL/Advanced_OperationMode_Content.asp
+
+                cp -f ../web_$MODEL/Advanced_DDNS_Content.asp ../web_$MODEL/Advanced_DDNS_Content.asp
+# DDNS shit has some custom adds as it seems, something for misc_conntrack but named for ntp?
+#		cp -f ../web_$MODEL/Advanced_NTP_Content.asp ../web_$MODEL/Advanced_NTP_Content.asp
+#	advanced_ntp_content should be added so this can be used in AP mode as well, as AP mode needs time too
+                cp -f ../web_$MODEL/Main_WStatus11g_Content.asp ../web_$MODEL/Main_WStatus_Content.asp
+                cp -f ../web_$MODEL/Main_Index_AccessPoint11g.asp ../web_$MODEL/Main_Index_AccessPoint.asp
+                cp -f ../web_$MODEL/Main_Index_HomeGateway11g.asp ../web_$MODEL/Main_Index_HomeGateway.asp
+# those 3 above are the pages shown at login, not really usefull IMHO
+                cp -f ../web_$MODEL/Main_Index_Router11g.asp ../web_$MODEL/Main_Index_Router.asp
+#                cp -f ../web_$MODEL/Main_AStatus11g_Content.asp ../web_$MODEL/Main_AStatus_Content.asp
+# disabled because now it did use WL300g stuff, while wl-hdd supports USB Printer, but did not show up in AP mode
+#                cp -f ../web_$MODEL/Main_GStatus11g_Content.asp ../web_$MODEL/Main_GStatus_Content.asp
+#                cp -f ../web_$MODEL/Main_RStatus11g_Content.asp ../web_$MODEL/Main_RStatus_Content.asp
+# router mode is not even used at WL-HDD nor WL300g
+                cp -f ../web_$MODEL/Advanced_Exposed_Content_SP.asp ../web_$MODEL/Advanced_Exposed_Content.asp
+# exposed_content seems to be obsolete as exposed_SP vervangen replaces it..?
+
+                ### 4.3 web graph ###
+                cp -f ../web_$MODEL/graph/iBox_title_all_HDD.jpg ../web_$MODEL/graph/iBox_title_all.jpg
+# need new image, present at http://www.chupa.nl/www/asus etc..
+                cp -f ../web_$MODEL/graph/internet_all_300.gif ../web_$MODEL/graph/internet_all.gif
+                cp -f ../web_$MODEL/graph/internet_none_300.gif ../web_$MODEL/graph/internet_none.gif
+                cp -f ../web_$MODEL/graph/internet_some_300.gif ../web_$MODEL/graph/internet_some.gif
+                cp -f ../web_$MODEL/graph/wds_ap_300.gif ../web_$MODEL/graph/wds_ap.gif
+                cp -f ../web_$MODEL/graph/wds_mixed_connect_300.gif ../web_$MODEL/graph/wds_mixed_connect.gif
+                cp -f ../web_$MODEL/graph/wds_mixed_anony_300.gif ../web_$MODEL/graph/wds_mixed_anony.gif
+                cp -f ../web_$MODEL/graph/wds_mixed_both_300.gif ../web_$MODEL/graph/wds_mixed_both.gif
+                cp -f ../web_$MODEL/graph/wds_wds_connect_300.gif ../web_$MODEL/graph/wds_wds_connect.gif
+                cp -f ../web_$MODEL/graph/wds_wds_anony_300.gif ../web_$MODEL/graph/wds_wds_anony.gif
+                cp -f ../web_$MODEL/graph/wds_wds_both_300.gif ../web_$MODEL/graph/wds_wds_both.gif
+                cp -f ../web_$MODEL/graph/wf_g_300.gif ../web_$MODEL/graph/wf_g.gif
+                cp -f ../web_$MODEL/graph/wf_none_300.gif ../web_$MODEL/graph/wf_none.gif
+# graphs zouden 'klaar' moeten zijn voor draft versie, future: verkleinen en aanpassen voor wlhdd plaatjes
+#################################################################### WLHDD /
 	fi
 
 	### 6. Remove useless files in ./target/web/* ###
 	rm -rf ../web_$MODEL/flash.default*
+	rm -rf ../web_$MODEL/*11n*.asp
 	rm -rf ../web_$MODEL/*11g*.asp
 	rm -rf ../web_$MODEL/*11b*.asp
 	rm -rf ../web_$MODEL/*_300g.asp	
@@ -457,6 +577,91 @@
 	rm -rf ../web_$MODEL/graph/*_500gx.*	
 	rm -rf ../web_$MODEL/graph/*_520g.*
 	rm -rf ../web_$MODEL/graph/*_331g.*
+# CHUPA
+	rm -rf ../web_$MODEL/graph/*_HDD.*
+	rm -rf ../web_$MODEL/graph/*_550g.*
+	rm -rf ../web_$MODEL/graph/*_500gp.*	
+	rm -rf ../web_$MODEL/graph/!.gif
+	rm -rf ../web_$MODEL/graph/AP.gif
+	rm -rf ../web_$MODEL/graph/Connecting.gif
+	rm -rf ../web_$MODEL/graph/Corner.gif
+	rm -rf ../web_$MODEL/graph/Disconnect.gif
+	rm -rf ../web_$MODEL/graph/Firewall.gif
+	rm -rf ../web_$MODEL/graph/List_backgroup.gif
+	rm -rf ../web_$MODEL/graph/Notebook.gif
+	rm -rf ../web_$MODEL/graph/PC.gif
+	rm -rf ../web_$MODEL/graph/Upload.gif
+	rm -rf ../web_$MODEL/graph/Upload_BAD.gif
+	rm -rf ../web_$MODEL/graph/Upload_OK.gif
+	rm -rf ../web_$MODEL/graph/V.gif
+	rm -rf ../web_$MODEL/graph/apicon.gif
+	rm -rf ../web_$MODEL/graph/apply.gif
+	rm -rf ../web_$MODEL/graph/asusLogo.jpg
+	rm -rf ../web_$MODEL/graph/delthisentry.gif
+	rm -rf ../web_$MODEL/graph/firewall1.gif
+	rm -rf ../web_$MODEL/graph/firewall2.gif
+	rm -rf ../web_$MODEL/graph/firewall3.gif
+	rm -rf ../web_$MODEL/graph/gatewayLogo.gif
+	rm -rf ../web_$MODEL/graph/iBox.gif
+	rm -rf ../web_$MODEL/graph/internet.gif
+	rm -rf ../web_$MODEL/graph/restore.gif
+	rm -rf ../web_$MODEL/graph/sArrow.gif
+	rm -rf ../web_$MODEL/graph/save.gif
+	rm -rf ../web_$MODEL/graph/showroutingtable.gif
+	rm -rf ../web_$MODEL/graph/start.gif
+	rm -rf ../web_$MODEL/graph/sumhorsd.gif
+	rm -rf ../web_$MODEL/graph/sumtextb.jpg
+	rm -rf ../web_$MODEL/graph/x.gif
+
+	rm -rf ../web_$MODEL/index_JP.asp
+	rm -rf ../web_$MODEL/firmware.asp
+
+	rm -f ../web_$MODEL/graph/internet_*.gif
+	rm -f ../web_$MODEL/graph/wf_both.gif
+	rm -f ../web_$MODEL/graph/wf_none.gif
+	rm -f ../web_$MODEL/graph/wf_[ag].gif
+	
+	rm -f ../web_$MODEL/graph/wds_*.gif 
+
+	rm -f ../web_$MODEL/graph/many.gif
+	
+	rm -f ../web_$MODEL/Advanced_Authentication_Content.asp
+	rm -f ../web_$MODEL/Advanced_DMZDHCP_Content.asp
+	rm -f ../web_$MODEL/Advanced_DMZDLFilter_Content.asp
+	rm -f ../web_$MODEL/Advanced_DMZDWFilter_Content.asp
+	rm -f ../web_$MODEL/Advanced_DMZIP_Content.asp
+	rm -f ../web_$MODEL/Advanced_DMZLAN_Content.asp
+	rm -f ../web_$MODEL/Advanced_DMZWAN_Content.asp
+	rm -f ../web_$MODEL/Advanced_DynamicRoute_Content.asp
+	rm -f ../web_$MODEL/Advanced_FilterHelp_Widzard.asp
+	rm -f ../web_$MODEL/Advanced_GRouterHelp_Widzard.asp
+	rm -f ../web_$MODEL/Advanced_Help_Widzard.asp
+	rm -f ../web_$MODEL/Advanced_LANWAN_Content_JP.asp
+	rm -f ../web_$MODEL/Advanced_LFirewall_Content.asp
+	rm -f ../web_$MODEL/Advanced_MultiPPPoE_Content.asp
+	rm -f ../web_$MODEL/Advanced_NAT_Content_JP.asp
+	rm -f ../web_$MODEL/Advanced_PortForwarding_Widzard.asp
+	rm -f ../web_$MODEL/Advanced_PortMapping_Content.asp
+	rm -f ../web_$MODEL/Advanced_PrinterSetup_Content.asp
+	rm -f ../web_$MODEL/Advanced_PrinterSetup_Widzard.asp
+	rm -f ../web_$MODEL/Advanced_RDHCP_Content.asp
+	rm -f ../web_$MODEL/Advanced_RouterHelp_Widzard.asp
+	rm -f ../web_$MODEL/Advanced_VirtualServer_Widzard.asp
+	rm -f ../web_$MODEL/Advanced_WMMADV_Content.asp
+	rm -f ../web_$MODEL/Basic_AOperation_Content.asp
+	rm -f ../web_$MODEL/Basic_Operation_Content.asp
+	rm -f ../web_$MODEL/Checking.asp
+	rm -f ../web_$MODEL/EMITest.asp
+	rm -f ../web_$MODEL/Main_Content.asp
+	rm -f ../web_$MODEL/Main_FWStatus_Content.asp
+	rm -f ../web_$MODEL/Main_Index.asp
+	rm -f ../web_$MODEL/Main_Index_Content.asp
+	rm -f ../web_$MODEL/Main_Password_Content.asp
+	rm -f ../web_$MODEL/Main_Status_Content.asp
+	rm -f ../web_$MODEL/WizardFirst.asp
+	rm -f ../web_$MODEL/WlanUpdate.asp
+			
+# /CHUPA
 
 
 	if [ "$MODEL" = "WL500gl" ] || [ "$MODEL" = "WL500bl" ] || [ "$MODEL" = "WL331gl" ]; then		
@@ -473,6 +678,13 @@
 	
 	### 8. Remove tempdir ###		
 	#rm -rf ../web_$MODEL
+
+	### 9. Removing IPV6 pages
+	if [ "$IPV6" != "y" ]; then
+		echo "Removing IPV6 pages..."
+		rm -rf ../web_$MODEL/*IPV6*.asp
+		sed -ri '/IPV6/d' ../web_$MODEL/index.asp
+	fi
 else
 	echo Usage: [Model]
 fi
diff -BuN router/www/asus/pages.mk gateway/www/asus/pages.mk
--- router/www/asus/pages.mk	1970-01-01 00:00:00.000000000 +0000
+++ gateway/www/asus/pages.mk	2008-03-17 18:24:15.000000000 +0000
@@ -0,0 +1 @@
+PAGES := *
diff -BuN router/www/asus/remccoms2.sh gateway/www/asus/remccoms2.sh
--- router/www/asus/remccoms2.sh	1970-01-01 00:00:00.000000000 +0000
+++ gateway/www/asus/remccoms2.sh	2009-04-19 06:27:38.000000000 +0000
@@ -0,0 +1,58 @@
+#! /bin/sh
+# Strip C comments
+# by Stewart Ravenhall <stewart.ravenhall@ukonline.co.uk> -- 4 October 2000
+# Un-Korn-ized by Paolo Bonzini <bonzini@gnu.org> -- 24 November 2000
+
+# Strip everything between /* and */ inclusive
+
+# Copes with multi-line comments,
+# disassociated end comment symbols,
+# disassociated start comment symbols,
+# multiple comments per line
+
+# The original was taken here: http://sed.sourceforge.net/grabbag/scripts/remccoms2.sh.txt
+
+# Check given file exists
+program=`echo $0|sed -e 's:.*/::'`
+if [ "$#" = 1 ] && [ "$1" != "-" ] && [ ! -f "$1" ]; then
+        print "$program: $1 does not exist"
+        exit 2
+fi
+
+# Create shell variables for ASCII 1 (control-a)
+# and ASCII 2 (control-b)
+a="`echo | tr '\012' '\001'`"
+b="`echo | tr '\012' '\002'`"
+
+sed -ri '
+        # If no start comment then go to end of script
+        /\/\*/!b
+        :a
+        s:/\*:'"$a"':g
+        s:\*/:'"$b"':g
+
+        # If no end comment
+	/'"$b"'/!{
+		:b
+
+                # If not last line then read in next one
+                $!{
+                        N
+                        ba
+                }
+
+                # If last line then remove from start
+                # comment to end of line
+                # then go to end of script
+                s:'"$a[^$b]"'*$::
+                bc
+        }
+        
+        # Remove comments
+        '"s:$a[^$b]*$b"'::g
+	/'"$a"'/ bb
+        
+        :c
+        s:'"$a"':/*:g
+        s:'"$b"':*/:g
+' $1
