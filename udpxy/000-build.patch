diff -uBp a/udpxy.c b/udpxy.c
--- a/udpxy.c	2011-11-25 22:12:21.000000000 +0300
+++ b/udpxy.c	2011-11-28 11:36:59.000000000 +0300
@@ -18,10 +18,12 @@
  *  along with udpxy.  If not, see <http://www.gnu.org/licenses/>.
  */
 
+#define _XOPEN_SOURCE	600
+#define _BSD_SOURCE
+#include <sys/types.h>
+
 #include "osdef.h"  /* os-specific definitions */
 
-#include <sys/types.h>
-#include <sys/socket.h>
 #include <arpa/inet.h>
 #include <net/if.h>
 #include <sys/wait.h>
